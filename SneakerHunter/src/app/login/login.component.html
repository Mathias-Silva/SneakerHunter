<div class="container login-container">
  <!-- Imagem/visual -->
  <div class="carousel" aria-hidden="true">
    <div class="carousel-images">
      <img src="assets/images/airmax.jpg" alt="Tênis Air Max" class="carousel-image active">
    </div>
  </div>

  <!-- Formulário de login/cadastro -->
  <div class="form-container">
    <h2 class="form-title">{{ modoCadastro ? 'Criar Conta' : 'Login' }}</h2>

    <!-- Usuário logado -->
    <div *ngIf="estaLogado" class="signed-in">
      <p>Conectado como: <strong>{{ emailUsuarioAtual }}</strong></p>
      <div class="actions-logged">
        <button class="btn-secondary" (click)="deslogar()">Sair</button>
      </div>
      <hr />
      <p *ngIf="!modoCadastro">
        Se quiser criar outra conta, clique em
        <button class="btn-link" (click)="alternarCadastro()">Criar conta</button>
      </p>
    </div>

    <!-- Formulário de login ou cadastro -->
    <form *ngIf="!estaLogado || modoCadastro" (submit)="aoEnviar($event)" #loginForm="ngForm" novalidate>
      <div class="field" *ngIf="modoCadastro">
        <label for="nome">Nome Completo</label>
        <input
          id="nome"
          name="nome"
          type="text"
          required
          [(ngModel)]="nome"
          class="input-field"
          placeholder="Digite seu nome completo"
        />
      </div>

      <div class="field">
        <label for="email">Email</label>
        <input
          id="email"
          name="email"
          type="email"
          required
          [(ngModel)]="email"
          class="input-field"
          placeholder="Digite seu email"
        />
      </div>

      <div class="field" *ngIf="modoCadastro">
        <label for="cpf">CPF</label>
        <input
          id="cpf"
          name="cpf"
          type="text"
          required
          [(ngModel)]="cpf"
          class="input-field"
          placeholder="Digite seu CPF (somente números)"
          pattern="[0-9]{11}"
          title="11 dígitos"
        />
      </div>

      <div class="field">
        <label for="senha">Senha</label>
        <input
          id="senha"
          name="senha"
          type="password"
          required
          [(ngModel)]="senha"
          class="input-field"
          placeholder="********"
        />
      </div>

      <div class="field" *ngIf="modoCadastro">
        <label for="confirmacaoSenha">Confirmar Senha</label>
        <input
          id="confirmacaoSenha"
          name="confirmacaoSenha"
          type="password"
          required
          [(ngModel)]="confirmacaoSenha"
          class="input-field"
          placeholder="********"
        />
      </div>

      <div *ngIf="erro" class="error">{{ erro }}</div>

      <div class="actions">
        <button type="submit" class="btn-primary">
          {{ modoCadastro ? 'Cadastrar' : 'Entrar' }}
        </button>
        <button type="button" class="btn-secondary" (click)="alternarCadastro()">
          {{ modoCadastro ? 'Já tenho conta' : 'Criar conta' }}
        </button>
      </div>
    </form>

    <div class="form-footer" *ngIf="!estaLogado && !modoCadastro">
      <button (click)="voltar()" class="btn-link">Voltar para a Página Principal</button>
    </div>
  </div>
</div>